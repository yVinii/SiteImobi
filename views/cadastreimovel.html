<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/css_pages/style_cadastreimovel.css">
    <link rel="stylesheet" href="../css/css_assets/style_navbar.css">
    <link rel="stylesheet" href="../css/css_assets/style_footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" charset="UTF-8"> </script>
    <title> LSilva negócios imobiliários </title>
</head>

<body>

    <header>
        <div class="logo">
            <a href="#"><img src="../img/completo.png" alt="Logo Lsilva"></a>
        </div>

        <div class="input-header">
            <input type="text" class="search-txt placeholder:text-white" placeholder="Busque seu imóvel" maxlength="22">
            <div class="search-btn" href="">
                <i class="bi bi-search"></i>
            </div>
        </div>

        <div class="navigation">
            <ul class="menu">
                <div class="close-btn"></div>
                <li class="menu-item"><a href="/views/home.html">Início</a></li>
                <li class="menu-item">
                    <a class="sub-btn" href="#">Imóveis <i class="fas fa-angle-down"></i></a>
                    <ul class="sub-menu">
                        <li class="sub-item"><a href="/views/pagimoveis.html">Venda</a></li>
                        <li class="sub-item"><a href="/views/pagimoveis.html">Locação</a></li>
                        <li class="sub-item"><a href="/views//home.html">Lançamentos</a></li>
                    </ul>
                </li>
                <li class="menu-item">
                    <a class="sub-btn" href="#">Serviços <i class="fas fa-angle-down"></i></a>
                    <ul class="sub-menu">
                        <li class="sub-item"><a href="/views/cadastreimovel.html">Cadastre seu imóvel</a></li>
                        <li class="sub-item"><a href="/views/pagimoveis.html">Nós encontramos</a></li>
                        <li class="sub-item"><a href="/views/simuladores.html">Simuladores</a></li>
                    </ul>
                </li>
                <li class="menu-item">
                    <a class="sub-btn" href="#">Contato <i class="fas fa-angle-down"></i></a>
                    <ul class="sub-menu">
                        <li class="sub-item"><a href="telacontato.html">Email</a></li>
                        <li class="sub-item"><a href="https://api.whatsapp.com/send?phone=5511972998439&text=Ol%C3%A1%2C+gostaria+de+mais+informa%C3%A7%C3%B5es" target="_blank">Whatsapp</a></li>
                        <li class="sub-item"><a href="#tel">Telefones</a></li>
                    </ul>
                </li>
                <li class="menu-item">
                    <a class="sub-btn" href="login.html"><i class="fa-solid fa-user-large"></i></a>
                </li>

        </div>
        </ul>
        </div>
        <div class="menu-btn"></div>
    </header>

    <main>
        <section>

            <section>
                <div class="container">
                    <div class="form">
                        <form action="">
                            <div class="form-header">
                                <div class="title">
                                    <h1>Cadastre seu Imóvel</h1>
                                </div>
                            </div>
                            <div class="alert alert-success" role="alert"> 
                                
                            </div>
                            <div class="alert alert-danger" role="alert">
                            </div>
                            <div class="input-group">
                                <div class="input-box">
                                    <label for="firstname">Nome Completo</label>
                                    <input type="text" id="firstname" name="firstname" placeholder="Digite seu nome completo" required>
                                </div>

                                <div class="input-box">
                                    <label for="email">Email</label>
                                    <input type="email" id="email" name="email" placeholder="Digite seu email" required>
                                </div>

                                <div class="input-box">
                                    <label for="number">Celular</label>
                                    <input type="tel" id="number" name="number" placeholder="(xx) xxxx-xxxx" required>
                                </div>

                                <!--Será um select tipo de imóvel-->
                                <div class="input-box">
                                    <label for="tipoimovel">Tipo de imóvel</label>
                                    <select name="tipoimovel" id="tipoimovel">
                                        <option>Selecione</option>
                                        <option value="Apartamento">Apartamento</option>
                                        <option value="Casa">Casa</option>
                                        <option value="Comercial">Comercial</option>
                                        <option value="Galpões">Galpões</option>
                                        <option value="Rural">Rural</option>
                                        <option value="Terrenos">Terrenos</option>
                                    </select>
                                </div>

                                <div class="input-box">
                                    <label for="selctcdd">Cidade</label>
                                    <select name="selectcdd" id="selectcdd">
                                        <option>Selecione</option>
                                        <option value="São Roque">São Roque</option>
                                        <option value="Mairinque">Mairinque</option>
                                        <option value="Ibiúna">Ibiúna</option>
                                        <option value="Araçariguama">Araçariguama</option>
                                        <option value="Alumínio">Alumínio</option>
                                    </select>
                                </div>

                                <!--Será um select tipo de negociação-->
                                <div class="input-box">
                                    <label for="tipoimovel">Tipo de negociação</label>
                                    <select name="tipoimovel" id="tipo-negociacao">
                                        <option>Selecione</option>
                                        <option value="Venda">Venda</option>
                                        <option value="Locação">Locação</option>
                                        <option value="Ambos">Ambos</option>
                                    </select>
                                </div>

                                <div class="input-box info-add">
                                    <label for="infoadd">Dados do imóvel</label>
                                    <textarea id="infoadd" name="infoadd" placeholder="Digite as informações" required rows="3"></textarea>
                                </div>
                            </div>

                            <!--Uploud teste -->

                            <div class='wrapper'>
                                <div class="upload">
                                    <div class="upload-wrapper">
                                        <div class="upload-img">
                                            <!-- image here -->
                                        </div>
                                        <div class="upload-info">
                                            <p>
                                                <span class="upload-info-value">0</span> arquivos(s) selecionados.
                                            </p>
                                        </div>
                                        <div class="upload-area">
                                            <div class="upload-area-img">
                                                <img src="../css/css_pages/css_imgs/aps.jpg" alt="">
                                            </div>
                                            <p class="upload-area-text">Selecionar imagens ou <span>procurar</span>.</p>
                                        </div>
                                        <input type="file" class="visually-hidden" id="upload-input" multiple>
                                    </div>
                                </div>
                            </div>

                            <!--<div class="gender-inputs">
                                    <div class="gender-title">
                                        <h6>Você é:</h6>
                                    </div>
            
                                    <div class="gender-group">
                                        <div class="gender-input">
                                            <input type="radio" id="proprietario" name="gender">
                                             <label for="proprietario">Proprietário</label>
                                        </div>
            
                                        <div class="gender-input">
                                            <input type="radio" id="representante" name="gender">
                                            <label for="representante">Representante</label>
                                        </div>
            
                                        <div class="gender-input">
                                            <input type="radio" id="corretor" name="gender">
                                            <label for="corretor">Corretor</label>
                                        </div>
                                    </div>
                                </div>-->

                            <div class="envie-button">
                                <button type="submit" onclick="enviarDados()">Enviar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

    </main>


    <footer>
        <div id="footer_content">
            <div id="footer_contacts">
                <h1><img src="../img/completo.png" alt=""></h1>
                <p>Redes Sociais:</p>

                <div id="footer_social_midia">
                    <a href="https://www.instagram.com/lsilvaimb/" target="_blank" class="footer-link" id="instagram">
                        <i class="fa-brands fa-instagram"></i>
                    </a>

                    <a href="https://www.facebook.com/profile.php?id=100012613808718" target="_blank" class="footer-link" id="facebook">
                        <i class="fa-brands fa-facebook-f"></i>
                    </a>

                    <a href="https://api.whatsapp.com/send?phone=5511972998439&text=Ol%C3%A1%2C+gostaria+de+mais+informa%C3%A7%C3%B5es" target="_blank" class="footer-link" id="whatsapp">
                        <i class="fa-brands fa-whatsapp"></i>
                    </a>
                </div>
            </div>

            <ul class="footer-list">
                <li>
                    <h3>Quem Somos</h3>
                </li>
                <li>
                    <a href="" class="footer-link">Sobre nós</a>
                </li>
                <li>
                    <a href="" class="footer-link">Política de Privacidade</a>
                </li>
                <li>
                    <a href="" class="footer-link">Termos de uso</a>
                </li>
            </ul>

            <ul class="footer-list">
                <li>
                    <h3>Contato</h3>
                </li>
                <li>
                    <a href="https://mail.google.com/mail/?view=cm&to=contato.lsilva@gmail.com" target="_blank" class="footer-link">contato@lsilva.com.br</a>
                </li>
                <li>
                    <a class="footer-link" name="tel" style="color: #dddddd;">(11) 4719-6462</a>
                </li>
                <li>
                    <a class="footer-link" name="tel" style="color: #dddddd;">(11) 4719-6469</a>
                </li>
            </ul>

            <div id="footer_endereco">
                <ul class="footer-list">
                    <li>
                        <h3>Endereço</h3>
                    </li>
                    <li>
                        <a class="footer-link" style="color: #dddddd;">Avenida Tiradentes, 441</a>
                    </li>
                    <li>
                        <a class="footer-link" style="color: #dddddd;">Centro - São-Roque - SP</a>
                    </li>
                    <li>
                        <a class="footer-link" style="color: #dddddd;">CEP - 18130-470</a>
                    </li>
                    <li>
                        <a class="footer-link" style="color: #dddddd;">CRECI - 25717-J</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="footer_copyright">
            LSilva
            &#169
            2023 - Todos os direitos reservados.
        </div>
    </footer>

    <script src="../javascript/upload.js"></script>

    <script>
  async function enviarDados() {
    try {
        const firstname = document.getElementById('firstname').value;
        const email = document.getElementById('email').value;
        const number = document.getElementById('number').value;
        const tipoimovel = document.getElementById('tipoimovel').value;
        const selectcdd = document.getElementById('selectcdd').value;
        const tipoNegociacao = document.getElementById('tipo-negociacao').value;
        const infoadd = document.getElementById('infoadd').value;
        const files = document.getElementById('upload-input').files;

        const formData = new FormData();
        formData.append('owner', firstname);
        formData.append('emailOwner', email);
        formData.append('phone', number);
        formData.append('propertytype', tipoimovel);
        formData.append('city', selectcdd);
        formData.append('typeofsale', tipoNegociacao);
        formData.append('description', infoadd);

        for (const file of files) {
            formData.append('images', file);
        }

        const response = await fetch('http://localhost:5502/templates/create', {
            method: 'POST',
            body: formData,
        });

        if (response.ok) {
            const responseData = await response.json();
            console.log(responseData);
        } else {
            console.error('Erro ao enviar dados:', response.statusText);
        }
    } catch (error) {
        console.error('Erro na requisição:', error);
    }
}


    </script>
</body>

</html>